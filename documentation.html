<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>MOOGme by IA-CAUP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>


    <section class="page-header">
        <!-- <h1 class="project-name">MOOGme</h1> -->
        <p><img src="logo.png" alt="Super awesome logo"></p>
        <h2 class="project-tagline">A python interface around MOOG, the stellar spectra code</h2>
        <a href="https://github.com/DanielAndreasen/MOOGme" class="btn">View on GitHub</a>
        <a href="https://github.com/DanielAndreasen/MOOGme/zipball/master" class="btn">Download .zip</a>
        <a href="https://github.com/DanielAndreasen/MOOGme/tarball/master" class="btn">Download .tar.gz</a>
        <br>
        <a href="index.html" class="btn">MOOGme</a>
        <a href="documentation.html" class="btn">Read the documentation</a>
    </section>

    <section class="main-content">
    <!-- <p><img src="logo.png" alt="Super awesome logo"></p> -->

<h3>
<a id="documentation-to-moogme" class="anchor" href="#documentation-to-moogme" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation to MOOGme</h3>
<p>
    Here is presented how to install this software, run it, and other various topics.
</p>

<h3><a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependencies</h3>
<p>
    Here we list the python packages needed to run this software. We highly recommend
    to use <a href="http://continuum.io/downloads">anaconda</a> to manage your python
    installation. The listed versions below works for us.

    <ul>
        <li><a href="http://www.numpy.org/">numpy</a> - 1.9.2</li>
        <li><a href="http://scipy.org/">scipy</a> - 0.15.1</li>
        <li><a href="http://matplotlib.org/">matplotlib</a> - 1.4.3</li>
        <li><a href="http://stanford.edu/~mwaskom/software/seaborn/index.html">seaborn</a> - 0.6.0</li>
        <li><a href="http://pyyaml.org/">yaml</a> - 3.11</li>
    </ul>
</p>

<p>
    If for some reason it does not work for you, please check you have all
    the above packages installed, and report the version number as well.
</p>


<h3><a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h3>
<p>
    Simply download the repository (see link above) or make a clone (<code>git clone https://github.com/DanielAndreasen/MOOGme</code>).
    Currently we do not have any other way to install it.
</p>
<p>
    To prepare a run, simply run the <code>makefile</code> file with <code>make install</code>.
    This will install the required dependencies and create the necessary directories: models, linelist and results. 
    At the moment we use <a href="http://kurucz.harvard.edu/">Kurucz model atmospheres</a>. <a href="http://www.as.utexas.edu/~chris/moog.html/">MOOG</a> 
    has to be installed independently from the user. 
</p>
<p>


<h3><a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>
<p>
<h5>Example for the EW Driver</h5>
</p>
<p>
    MOOGme supports a batch mode that performs various tasks (drivers). The main tasks are: 1) measure the Equivalent Widths (EW) 
    of a spectrum using the ARES software, 2) derive stellar parameters from a given line list using the EWs of the given stars, 
    3) derive chemical abundances from a given line list using the EWs of a list of stars, and 4) derive stellar parameters 
    using the spectral synthesis technique (this is still under development). 
</p>
<p>
    This is done by editing the <code>StarMe.cfg</code> file and run the equivalent Driver in the terminal. 
    A describtion on how to use <code>StarMe.cfg</code> is in the top as a comment in the file. Here we describe in detail how 
    to use it.
</p>

<h5>Explaining <code>StarMe.cfg</code></h5>
<p>
    Each line which start with a non-alphabetic character as ",;#.-_+ and possible more
    are not considered and can be regarded as a comment line.
</p>
<p>
    All linelists must be in a folder called <code>linelist</code>. The program will look for line lists
    in this folder, so if you have a line list called <code>lines.sun.ares</code>, just write that in the
    beginning of the <code>StarMe.cfg</code> file. The line list <i>must</i> be formatted for MOOG.
    Read the documentation here: <a href="http://www.as.utexas.edu/~chris/moog.html">MOOG home page</a>.
    A tool to help, can be found here: <a href="https://github.com/DanielAndreasen/astro_scripts/blob/master/numpy2moog.py">MOOG formatter</a>.
    Run with the <code>-h</code> flag for help.
</p>

<p>
    There are several options available.
    <ul>
        <li>First an initial guess on effective temperature, surface gravity, metallicity,
        and micro turbulence can be provided in the following way: <code>lines.sun.ares 5777 4.44 0.0 1.0</code>.
        It is important to provide all initial parameters, and separated by a single whitespace.</li>
        <li>A list of other options can be turned on/off as well. They must be listed with a single comma, and no whitespaces</li>
        <ul>
            <li><b>spt</b>: The spectral type can be provided. This is used if and only
                if there are not given an initial guess. Example: <code>spt:F5V</code></li>
            <li><b>outlier</b>: Remove outliers to refine results (not implemented yet)</li>
            <li><b>plot</b>: Save a figure of abundances versus excitation potential and reduced equivalent width for best parameters (not implemented yet)</li>
            <li><b>models</b>: Specify which models to use. Example to use Kurucz95 models (only implemented at the moment): models:K95</li>
            <li><b>teff</b>: Fix the effective temperature. Example: teff (turns on if provided)</li>
            <li><b>logg</b>: Same as above but for surface gravity</li>
            <li><b>feh</b>: Same as above but for metallicity</li>
            <li><b>vt</b>: Same as above but for micro turbulence</li>
            <li><b>iterations:</b> Set maximum number of iterations (default: 25). Example: iterations:40</li>
            <li><b>epslope</b>: Set the criteria for the excitation potential slope, for when convergence is reached. This slope is mainly affected
                by the effective temperature (default: 0.001). Example: epslope:0.005</li>
            <li><b>rwslope</b>: Same as above, but this slope is mainly affected by the microturbulence</li>
            <li><b>abdiff</b>: Same as above, but this slope is mainly affected by the surface gravity</li>
        </ul>
    </ul>
    If only the line list is provided, all parameters are free, and solar parameters are assumed as initial condition.
</p>

<p>
    The resulting MOOG file with abundances will be saved in <code>results/linelist.(NC).out</code>. NC only if
    convergence was not met. If multiple line lists are provided, they will all have a unique file. Last, the results
    can be read more easily in results.csv.
</p>


      <footer class="site-footer">
        <!-- <span class="site-footer-owner"><a href="https://github.com/DanielAndreasen/MOOGme">Moogme</a> is maintained by <a href="https://github.com/DanielAndreasen">DanielAndreasen</a>.</span> -->

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>
  </body>
</html>
